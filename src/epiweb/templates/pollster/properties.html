<div class="property-groups">
    <div class="tool-group">
        <div class="tool">
            <label>Survey</label>
            <button type="button" class="action-save">Save</button>
            <input class="short" name="survey-title" value="{{ survey.title }}" />
            <input type="hidden" name="survey-id" value="{{ survey.id }}" />
        </div>
        <div class="tool">
            <label>New Question</label>
            <button type="button" class="action-create-question">Create</button>
            <select class="short" name="tool_question_type">
                <option value="text">Open answer</option>
                <option value="single-choice">Single Choice</option>
                <option value="multiple-choice">Multiple Choice</option>
            </select>
        </div>
    </div>
    <div class="property-group builtin-question">
        <h2>Question</h2>
        <div class="property readonly">
            <label>Type</label>
            <input name="field_question_type" readonly="readonly"/>
        </div>
        <div class="property">
            <label>Data Name</label>
            <input name="field_question_shortname"/>
        </div>
        <div class="property">
            <label>Data Type</label>
            <select name="field_question_data_type">
                {% for question_data_type in question_data_types %}
                <option value="{{ question_data_type.id }}">{{ question_data_type.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="property" style="display:none">
            <label>Visual</label>
            <select name="field_question_visual">
                <option value="entry">Text Entry</option>
                <option value="radio">Radio Buttons</option>
                <option value="check">Check Buttons</option>
                <option value="dropdown">Drop Down Box</option>
            </select>
        </div>
        <div class="property">
            <label>Title</label>
            <input name="field_question_title"/>
        </div>
        <div class="property clearfix">
            <label>Text</label>
            <textarea name="field_question_text"></textarea>
        </div>
        <hr/>
        <div class="tool">
            <label>Add choice: </label>
            <button type="button" class="action-add-choice">Add</button>
            <select class="short" name="tool_choice_type">
                <option value="">Simple Choice</option>
                <option value="single-choice">Value Choice</option>
            </select>
        </div>
        <div class="tool">
            <label>Add rule: </label>
            <button type="button" class="action-add-rule">Add</button>
            <select class="short" name="tool_rule_type">
                <option value="rule">Rule</option>
                <option value="derived-value">Derived value</option>
            </select>
        </div>
    </div>
    <div class="property-group builtin-choice">
        <h2>Choice</h2>
        <div class="property">
            <label>Text</label>
            <input name="field_choice_text"/>
        </div>
        <div class="property">
            <label>Value</label>
            <input name="field_choice_value"/>
        </div>
    </div>
    <div class="property-group builtin-derived-value">
        <h2>Derived Value</h2>
        <div class="property">
            <label>Type</label>
            <select name="field_derived_value_type">
                {% for virtual_option_type in virtual_option_types %}
                <option value="{{ virtual_option_type.id }}" data-linked-data-type="{{ virtual_option_type.question_data_type.id}">{{ question_data_type.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="property">
            <label>Regular Expression</label>
            <input name="field_derived_value_regex"/>
        </div>
        <div class="property">
            <label>Inferior Limit</label>
            <input name="field_derived_value_inf"/>
        </div>
        <div class="property">
            <label>Superior Limit</label>
            <input name="field_derived_value_sup"/>
        </div>
        <div class="property">
            <label>Option Value</label>
            <input name="field_derived_value_value"/>
        </div>
    </div>
    <div class="property-group builtin-rule">
        <h2>Rule</h2>
        <div class="property">
            <label>Trigger Option</label>
            <select name="field_rule_trigger">
            </select>
        </div>

        <div class="property">
            <label>Type</label>
            <select name="field_rule_type">
                {% for rule_type in rule_types %}
                <option value="{{ rule_type.id }}">{{ rule_type.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="property">
            <label>Question</label>
            <select name="field_rule_question">
            </select>
        </div>
        <div class="property clearfix">
            <label>Options</label>
            <select name="field_rule_options" multiple="multiple" size="5"></select>
        </div>
    </div>
    <div class="wok-templates">
        <div class="template-question-text" data-visual="entry">
            <div class="question text">
                <p><span class="number"></span><span class="title"></span></p>
                <form>
                    <input type="text" name="$$" />
                    <ul class="derived-values"></ul>
                </form>
            </div>
        </div>
        <div class="template-question-single-choice" data-visual="radio">
            <div class="question single-choice">
                <p><span class="number"></span><span class="title"></span></p>
                <form>
                    <ul class="choices"><li>
                        <input type="radio" value="" name="$$"/><label></label><div class="info"></div></li>
                    </ul>
                </form>
            </div>
        </div>
        <div class="template-question-multiple-choice">
            <div class="question multiple-choice" data-visual="check">
                <p><span class="number"></span><span class="title"></span></p>
                <form>
                    <ul class="choices"><li>
                        <input type="checkbox" value="" name="$$"/><label></label><div class="info"></div></li>
                    </ul>
                </form>
            </div>
        </div>
    </div>
</div>
